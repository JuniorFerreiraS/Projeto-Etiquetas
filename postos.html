<!DOCTYPE html>
<html>
<body style="background-color:#FFE600">   
<center>
    
		<h2> Impressão de Postos </h2>
		<BR>
<p>IP Impressora:</p>

<p id="demo"></p>
<input type="text" id="ip_addr" class="input" placeholder="IP" value="10.180.243.134">
<p>Posto:</p>
<input id="posto" type="text" id="posto" class="input" placeholder="posto...">
<BR>
	<p>Canalização:</p>
<input id="canaliza" type="text" class="input" placeholder="Canalização...">
<br>
<p>ETD:</p>
<input id="etd" type="text" class="input" placeholder="ETD...">
<BR>
	<p>Tipo de posto:</p>
<input id="tipo" type="text" class="input" placeholder="Manga Palet...">
<BR>
	<BR>
<button id="enviar" class="input" onclick="print(); return false;">Imprimir</button>
<BR>
    <BR>
    

<script>
	function print()

			{ 
			var posto = document.getElementById("posto").value;
			var canaliza = document.getElementById("canaliza").value;
			var etd = document.getElementById("etd").value;
			var tipo = document.getElementById("tipo").value;
			
	var ip_addr = document.getElementById("ip_addr").value;
	var zpl = "^XA~TA000~JSN^LT0^MNW^MTT^PON^PMN^LH0,0^JMA^PR6,6~SD19^JUS^LRN^CI0^XZ^XA^MMT^PW815^LL0406^LS0^FO352,288^GFA,05376,05376,00056,:Z64:eJzt1rENgCAQRuEzJFSGmo417FiN0RzFEdgAzxF4hUryf6F9CTR3mImIyLvGvNOzArrhXW3zVyzedPC07XoO0C000h0WSGbZIup2S6hLXhJxmS6rU6fus26VOUE7OnfpnKd7he4xujfpnrZK/hON/0NERER+4AbkAN0J:1457^FT419,133^A0N,63,38^FH\^FD"+posto+"^FS^FO415,31^GB105,47,47^FS^FT415,68^A0N,38,38^FR^FH\^FDPOSTO^FS^FO640,31^GB61,48,48^FS^FT640,69^A0N,39,38^FR^FH\^FDETD^FS^FO394,141^GB349,170,170^FS^FT394,277^A0N,135,134^FR^FH\^FD"+canaliza+"^FS^FT609,131^A0N,60,60^FH\^FD"+etd+"^FS^FT485,346^A0N,33,33^FH\^FD"+tipo+"^FS^BY322,322^FT28,354^BXN,23,200,0,0,1,~^FH\^FD"+posto+"^FS^PQ1,0,1,Y^XZ";
	var url = "http://"+ip_addr+":9100/pstprnt";
				var method = "POST";
				var async = true;
				var request = new XMLHttpRequest();
	
				request.onload = function () {
					var status = request.status; 
					var data = request.responseText; 
					output.innerHTML = "Status: " + status + "<br>" + data;
				}
	
				request.open(method, url, async);
				request.setRequestHeader("Content-Length", zpl.length);
	
				
				request.send(zpl);
			}
		</script>

</body>
</html>